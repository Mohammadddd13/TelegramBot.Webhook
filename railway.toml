â€from aiogram import Bot, Dispatcher, executor, types
from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton
import asyncio

API_TOKEN = "8357943292:AAFj1-EqFaYcJv0v3i5oaiAq0PukEY8RHgo"  # ØªÙˆÚ©Ù† BotFather
ADMIN_ID = 8357943292  # Ø¢ÛŒØ¯ÛŒ Ø´Ù…Ø§

bot = Bot(token=API_TOKEN)
dp = Dispatcher(bot)

CHANNELS = ["@DARKLEGENDSIR", "@DARK_LEGENDS_CHANNEL"]

async def check_subs(user_id):
    for channel in CHANNELS:
        member = await bot.get_chat_member(channel, user_id)
        if member.status in ["left", "kicked"]:
            return False
    return True

@dp.message_handler(commands=["start"])
async def start_cmd(message: types.Message):
    if await check_subs(message.from_user.id):
        await message.answer("âœ… Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒ! Ø­Ø§Ù„Ø§ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø§Ø² Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø±Ø¨Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒ.")
    else:
        keyboard = InlineKeyboardMarkup()
        keyboard.add(InlineKeyboardButton("ğŸ“¢ DARKLEGENDSIR", url="https://t.me/DARKLEGENDSIR"))
        keyboard.add(InlineKeyboardButton("âš¡ DARK LEGENDS CHANNEL", url="https://t.me/DARK_LEGENDS_CHANNEL"))
        keyboard.add(InlineKeyboardButton("âœ… Ø¹Ø¶Ùˆ Ø´Ø¯Ù…", callback_data="check_subs"))
        await message.answer("ğŸ”’ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§Øª Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù‡Ø± Ø¯Ùˆ Ú©Ø§Ù†Ø§Ù„ Ø¹Ø¶Ùˆ Ø¨Ø´ÛŒ:", reply_markup=keyboard)

@dp.callback_query_handler(lambda c: c.data == "check_subs")
async def recheck(call: types.CallbackQuery):
    if await check_subs(call.from_user.id):
        await call.message.edit_text("âœ… Ø¹Ø¶ÙˆÛŒØªØª ØªØ§ÛŒÛŒØ¯ Ø´Ø¯! Ø­Ø§Ù„Ø§ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø§Ø² Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø±Ø¨Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒ.")
    else:
        await call.answer("âŒ Ù‡Ù†ÙˆØ² Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ Ù†Ø´Ø¯ÛŒ!", show_alert=True)

if __name__ == "__main__":
    executor.start_polling(bot, skip_updates=True)
